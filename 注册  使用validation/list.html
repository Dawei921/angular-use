<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>list</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script src="js/jquery-1.9.0.js"></script>
<style type="text/css">
	tr,td{
		border:1px solid black;
	}
	table{
		border-collapse: collapse;
	}
</style>
</head>
<body>
    <table >
    	<thead>
			<td>编号</td>
			<td>用户名</td>
			<td>密码</td>
			<td>性别</td>
			<td>全选复选框</td>
    	</thead>
    	<tbody >
    		
    	</tbody>
    </table>
    <input type="button" value="删除" name="" style="margin-left: 200px" onclick="doremove()">
    <script type="text/javascript">
    	$(function(){
            doread();

    	})
        function doread(){
            var counts = localStorage.count;//获得localstorage里面的总数
            console.log(counts);
            for(var i=1; i<=counts; i++){
                var name = localStorage.getItem("sname"+i);
                var pwd = localStorage.getItem("spwd"+i);
                var sex = localStorage.getItem("ssex"+i);
                $("tbody").append("<tr></tr>");

                li0 = $("<td>"+i+"</td>");//添加序号
                $("tbody tr:eq("+(i-1)+")").append(li0);

                li1 = $("<td>"+name+"</td>");//添加用户名
                $("tbody tr:eq("+(i-1)+")").append(li1);

                li2 = $("<td>"+pwd+"</td>");//添加密码
               $("tbody tr:eq("+(i-1)+")").append(li2);

                li3 = $("<td>"+sex+"</td>");//添加性别
                $("tbody tr:eq("+(i-1)+")").append(li3);
                $("tbody tr:eq("+(i-1)+")").append("<input type='checkbox' value="+i+">");
                // console.log($("tbody tr:eq("+(i-1)+") input").attr("value"));
            }
        }
        //点击删除按钮删除选中的用户信息
        function doremove(){
            //先读取所有的check

             var counts = localStorage.count;//获得localstorage里面的总数

             for(var i=0; i<counts; i++){
               var check =  $("tbody tr:eq("+(i-1)+") input").prop("checked");
                 
               if(check){
                $("tbody tr:eq("+(i-1)+")").remove();
                localStorage.removeItem("sname"+i);
                localStorage.removeItem("ssex"+i);
                localStorage.removeItem("spwd"+i);
               
               }
             }
        }
    </script>
</body>
</html>